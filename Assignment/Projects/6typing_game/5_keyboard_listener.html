Timer:<div class="timer" id="timer">0</div>
WPM:<div class="wpm" id="wpm">0</div>
<div class="container" id="container"></div>

<style>
  .correct {
    color: green;
  }

  .incorrect {
    color: red;
    text-decoration: underline;
  }
</style>

<script>
  const container = document.getElementById("container");
  const timerElement = document.getElementById("timer");
  const wpmElement = document.getElementById("wpm");

  let timerID;
  let isTimerStated = false;
  let quote;
  let currentIndex = 0;
  let strokes;
  let startTime;

  window.addEventListener("click", (e) => {
    if (document.getElementById("container").contains(e.target)) {
     
        startTimer();
      
    } else {
      timerElement.innerText = 0;
      stopTimer();
    }
  });

  window.addEventListener("keydown", (e) => {
    if (isTimerStated) {
      var charCode = parseInt(e.keyCode);
       if ((charCode > 64 && charCode < 91) ||
        (charCode > 96 && charCode < 123) || charCode === 32 || charCode === 188 ||
        charCode === 186 ||
        charCode === 222 ||
        charCode === 190 ||
        charCode === 191 ||
        charCode === 49 ||
        charCode === 189) {
        if (quote[currentIndex] == e.key) {
          container.childNodes[currentIndex].classList.add("correct");
          container.childNodes[currentIndex].classList.remove(
            "incorrect"
          );
         
        } else {
          container.childNodes[currentIndex].classList.add("incorrect");
          container.childNodes[currentIndex].classList.remove(
            "correct"
          );
         
        }
      
        currentIndex++;
        if (currentIndex === quote.length) {
          currentIndex = 0;
          renderNewQuote();
        }
      }

    }
  });






  const renderNewQuote = async () => {
    let response = await fetch("http://api.quotable.io/random");
    response = await response.json();
    quote = response.content;
    if (isTimerStated) {
      stopTimer();
      startTimer();
    }
    currentIndex = 0;
    strokes = new Array(quote.length);
    strokes.fill(0);
    container.innerHTML = "";
    quote.split("").forEach((char) => {
      const charSpan = document.createElement("span");
      charSpan.innerText = char;
      container.appendChild(charSpan);
    });
  };

 
  function startTimer() {
    isTimerStated = true;
    timerElement.innerText = 0;
    startTime = new Date();
    timerID = setInterval(() => {
      timerElement.innerText = getTimerTime();;
    }, 1000);
  }

  function getTimerTime() {
    return Math.floor((new Date() - startTime) / 1000);
  }

  function stopTimer() {
    clearInterval(timerID);
  }

  renderNewQuote();
</script>